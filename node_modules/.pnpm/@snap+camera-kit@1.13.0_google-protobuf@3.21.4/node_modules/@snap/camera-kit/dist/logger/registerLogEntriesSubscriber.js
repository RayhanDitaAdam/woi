import { filter } from "rxjs";
import { Injectable } from "@snap/ts-inject";
import { configurationToken } from "../configuration";
import { logEntriesFactory } from "./logEntries";
import { logLevelMap } from "./logger";
export const registerLogEntriesSubscriber = Injectable("registerLogEntriesSubscriber", [configurationToken, logEntriesFactory.token], (configuration, logEntries) => {
    logEntries
        .pipe(filter((entry) => logLevelMap[entry.level] >= logLevelMap[configuration.logLevel]))
        .subscribe((logEntry) => {
        const logMethod = configuration.logger[logEntry.level];
        logMethod(`[CameraKit.${logEntry.module}]`, ...logEntry.messages);
    });
});
//# sourceMappingURL=registerLogEntriesSubscriber.js.map